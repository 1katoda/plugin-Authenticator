var $jscomp={scope:{},findInternal:function(a,d,c){a instanceof String&&(a=String(a));for(var b=a.length,e=0;e<b;e++){var f=a[e];if(d.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,c,b){if(d){c=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var e=a[b];e in c||(c[e]={});c=c[e]}a=a[a.length-1];b=c[a];d=d(b);d!=b&&null!=d&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");
sysPass.Plugin.Authenticator=function(a){var d=a.log;return{twofa:{check:function(c){d.info("Authenticator:twofa:check");var b=a.appRequests().getRequestOpts();b.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";b.data=c.serialize();a.appRequests().getActionCall(b,function(c){a.msg.out(c);0==c.status&&setTimeout(function(){a.redirect("index.php")},1E3)})},save:function(c){d.info("Authenticator:twofa:save");var b=a.appRequests().getRequestOpts();b.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";
b.data=c.serialize();a.appRequests().getActionCall(b,function(b){a.msg.out(b);0===b.status&&a.appActions().doAction({actionId:c.data("nextaction-id"),itemId:c.data("activetab")})})},viewRecoveryCodes:function(c){d.info("Authenticator:twofa:viewRecoveryCodes");var b=a.appRequests().getRequestOpts();b.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";b.data={actionId:c.data("action-id"),sk:a.sk.get()};a.appRequests().getActionCall(b,function(b){if(0===b.status){d.info(b.data);var e=$(c.data("dst-id"));
e.find(".list-wrap").html(a.appTheme().html.getList(b.data,"vpn_key"));e.show("slow")}else a.msg.out(b)})}}}};
