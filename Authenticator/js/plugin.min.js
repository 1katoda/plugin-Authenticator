var $jscomp={scope:{},findInternal:function(a,d,b){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var f=a[e];if(d.call(b,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in b||(b[e]={});b=b[e]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,b){return $jscomp.findInternal(this,a,b).v}},"es6-impl","es3");
sysPass.Plugin.Authenticator=function(a){var d=a.log;return{twofa:{check:function(b){d.info("Authenticator:twofa:check");var c=a.appRequests().getRequestOpts();c.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";c.data=b.serialize();a.appRequests().getActionCall(c,function(b){a.msg.out(b);0===b.status&&setTimeout(function(){a.redirect("index.php")},1E3)})},save:function(b){d.info("Authenticator:twofa:save");var c=a.appRequests().getRequestOpts();c.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";
c.data=b.serialize();a.appRequests().getActionCall(c,function(c){a.msg.out(c);0===c.status&&a.appActions().doAction({actionId:b.data("nextaction-id"),itemId:b.data("activetab")})})},viewRecoveryCodes:function(b){d.info("Authenticator:twofa:viewRecoveryCodes");var c=a.appRequests().getRequestOpts();c.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";c.data={actionId:b.data("action-id"),sk:a.sk.get()};a.appRequests().getActionCall(c,function(c){if(0===c.status){var d=$(b.data("dst-id"));d.find(".list-wrap").html(a.appTheme().html.getList(c.data,
"vpn_key"));d.show("slow")}else a.msg.out(c)})}},checkVersion:function(){d.info("Authenticator:checkVersion");var b=a.appRequests().getRequestOpts();b.url="/inc/Plugins/Authenticator/ajax/ajax_actions.php";b.useLoading=!1;b.data={actionId:100,sk:a.sk.get()};return a.appRequests().getActionCall(b)}}};
